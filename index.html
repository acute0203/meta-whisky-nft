<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="robots" content="all">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="copyright" content="META WHISKY">
    <meta name="description" content="網頁敘述,會出現在google搜尋">
    <meta name="distribution" content="Taiwan">
    <meta name="geo.region" content="tw">

    <!--FACEBOOK Share-->
    <meta property="og:url" content="該網頁網址">
    <meta property="og:title" content="META WHISKY">
    <meta property="og:site_name" content="META WHISKY">
    <meta property="og:image" content="img/META-WHISKY.png">
    <meta property="og:description" content="網頁敘述">
    <meta property="og:type" content="website">
    <!--FACEBOOK Share-->

    <link rel="icon" href="img/favicon.ico">

    <!--主要CSS-->
    <link href="css/reset.css" rel="stylesheet">
    <link href="css/style.css?version=1.5" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@5/dark.css">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>META WHISKY</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.6.umd.min.js" type="text/javascript">
    </script>
</script>
    <script>
 const contractABI = [
	{
		"inputs": [],
		"stateMutability": "payable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "ApprovalForAll",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			},
			{
				"indexed": false,
				"internalType": "uint256[]",
				"name": "values",
				"type": "uint256[]"
			}
		],
		"name": "TransferBatch",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "TransferSingle",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "value",
				"type": "string"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			}
		],
		"name": "URI",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "BIGANT_WHISKY",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "ERC20AddressPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "contract IERC20",
				"name": "token",
				"type": "address"
			}
		],
		"name": "GetAllowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "_tokenamount",
				"type": "uint256"
			}
		],
		"name": "approveERC20tokens",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address[]",
				"name": "accounts",
				"type": "address[]"
			},
			{
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			}
		],
		"name": "balanceOfBatch",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "_tokenamount",
				"type": "uint256"
			}
		],
		"name": "buyNFTWithERC20",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "buyNFTWithEther",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "deposit",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "depositAmount",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			}
		],
		"name": "getContractERC20TokenBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			}
		],
		"name": "getERC20AddressPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getETHBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getETHPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "isApprovedForAll",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			},
			{
				"internalType": "uint256[]",
				"name": "amounts",
				"type": "uint256[]"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeBatchTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "setApprovalForAll",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_ETHPrice",
				"type": "uint256"
			}
		],
		"name": "setETHPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes4",
				"name": "interfaceId",
				"type": "bytes4"
			}
		],
		"name": "supportsInterface",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			}
		],
		"name": "updateERC20AddressPrice",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "uri",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "withdraw",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "ERC20Address",
				"type": "address"
			}
		],
		"name": "withdrawERC20Token",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	}
];
/*
function mobileAndTabletCheck() {
  let check = false;
  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
  return check;
};
}
*/
async function buyNFT(){
console.log("buyNFT!");

if(window.ethereum === undefined){
    window.location = "https://metamask.app.link/dapp/acute0203.github.io/meta-whisky-nft/";
} else {
    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
    const account = accounts[0];
    const provider = new ethers.providers.Web3Provider(window.ethereum, "any");
    // Prompt user for account connections
    await provider.send("eth_requestAccounts", []);
    const signer = provider.getSigner();
    console.log("Account:", await signer.getAddress());
    const toAddress = "0x73B5470200541D4336cda17DeCf390D49d2600b3";
    /*
    const amount = 5;
    const amountToSend = web3.utils.toWei(String(amount), "ether");
    var send = web3.eth.sendTransaction({ from: account, to: toAddress, value: amountToSend }).on('transactionHash', function(hash){
        console.log("hash:",hash);
    })
    .on('receipt', function(receipt){
        console.log("receipt:",receipt);
    })
    .on('confirmation', function(confirmationNumber, receipt){
    console.log("confirmationNumber:", confirmationNumber);
    console.log("receipt:", receipt);
    Swal.fire({
      icon: 'success',
      title: 'You have successfully buy META WHISKY NFT Token!',
      html: '<br>Contract Address:'+toAddress+'<br>Token ID:0<br>Transaction Hash:'+receipt.transactionHash+'<br>',

    })

     })
    .on('error', console.error); // If a out of gas error, the second parameter is the receipt.
*/
var projectId = "695945a222de4a8082d28507506f3f37";
var projectSecret = "08b9d559fba740a0a9bb41a8c747174d";
var providera = new ethers.providers.InfuraProvider("ropsten", {
    projectId: projectId,
    projectSecret: projectSecret
});

const abi = [
    "event MintID(uint256)",
    "function buyNFTWithEther() external payable returns (uint256)",
];

const erc1155_rw = new ethers.Contract(toAddress, abi, signer);


//var whiskyContract = new web3.eth.Contract(contractABI, toAddress, {});

const amount = 0.7;
const amountToSend = ethers.utils.parseEther(String(amount));
let tx = await erc1155_rw.buyNFTWithEther({from: account,value: amountToSend});
let receipt = await tx.wait();
let MintIDEvent = receipt.events.pop();
let mintID = MintIDEvent.args[0];
Swal.fire({
  icon: 'success',
  title: 'You have successfully buy META WHISKY NFT Token!',
  html: '<br>Contract Address:'+toAddress+'<br>Token ID:'+mintID.toString(),
})
console.log("mintID:",mintID.toString());
/*
whiskyContract.methods.buyNFTWithEther().send({from: account,value: amountToSend}).on('transactionHash', function(hash){
    console.log("hash:",hash);
})
.on('receipt', function(receipt){
    console.log("receipt:",receipt);
})
.on('confirmation', function(confirmationNumber, receipt){
console.log("confirmationNumber:", confirmationNumber);
console.log("receipt:", receipt);
Swal.fire({
  icon: 'success',
  title: 'You have successfully buy META WHISKY NFT Token!',
  html: '<br>Contract Address:'+toAddress+'<br>Token ID:'+receipt.events.TransferSingle.returnValues.id,
})

 })
.on('error', console.error); // If a out of gas error, the second parameter is the receipt.
    alert(console.error);
*/
}

}
    </script>
</head>

<body>
    <main>
        <section class="bg-01">
            <article class="d-flex justify-content-center align-items-center flex-direction-column header text-center">
                <div class="logo">
                    <img src="img/logo.svg" width="36">
                </div>
                <div class="title">
                    <div class="gradient-border">
                        <h1 class="text-xl title-font text-bold shadow">
                            META WHISKY</h1>
                    </div>
                    <h2 class="text-md title-font text-bold shadow">
                        World Heritage Cask Whiskey</h2>
                </div>
                <div class="text">
                    <p class="text-sm white-color" data-aos="fade-up" data-aos-duration="1000">
                        NFT begins to manage the ownership of World Heritage Cask Whisky!<br>
                        Launched as NFT's "META WHISKY" linked to World Heritage Cask Whisky!
                    </p>
                </div>
            </article>
        </section>
        <section class="bg-02">
            <div class="d-flex align-items-center flex-direction-column main">
                <article>
                    <div class="whisky-20">
                        <div class="text-2xl number-font whisky" data-aos="fade-up" data-aos-duration="1000">20</div>
                    </div>
                    <h3 class="text-md title-font" data-aos="fade-up" data-aos-duration="1000">STEAMING
                        INSTRUCTIONS</h3>
                    <p class="text-sm text" data-aos="fade-up" data-aos-duration="1000">
                        In totally, there are 20 World Heritage casks containing whisky,<br>
                        The contents of which are bottled,<br>
                        Divide into a total of 2000 700ml bottles.<br>
                        The serial number of NFT "META WHISKY" corresponds to 1/2,000!
                    </p>
                </article>
                <article>
                    <h3 class="text-md title-font" data-aos="fade-up" data-aos-duration="1000">PRODUCT DESCRIPTION</h3>
                    <div class="text-sm text-header text-bold text-center d-flex justify-content-center align-items-center flex-direction-column"
                        data-aos="fade-up" data-aos-duration="1000">
                        Single Cask Strength World Heritage<br>
                        Cask Matured Whisky A thousand years
                    </div>
                    <ul class="text-sm text text-table">
                        <li data-aos="fade-up" data-aos-duration="1000">
                            <div>
                                <div class="text-bold">Production Date</div>
                                <p>2022/7/16</p>
                            </div>
                            <div>
                                <div class="text-bold">Cask Type</div>
                                <p>Assembly Barrel</p>
                            </div>
                        </li>
                        <li data-aos="fade-up" data-aos-duration="1000">
                            <div>
                                <div class="text-bold">Capacity Of Whisky</div>
                                <p>700ml</p>
                            </div>
                            <div>
                                <div class="text-bold">Country Of Manufacture</div>
                                <p>JAPAN</p>
                            </div>
                        </li>
                        <li data-aos="fade-up" data-aos-duration="1000">
                            <div>
                                <div class="text-bold">Alcohol Content</div>
                                <p>56.40%</p>
                            </div>
                            <div>
                                <div class="text-bold">Production Unit</div>
                                <p>Unit 1</p>
                            </div>
                        </li>
                        <li data-aos="fade-up" data-aos-duration="1000">
                            <div>
                                <div class="text-bold">Barrel Volume</div>
                                <p>250 Liters</p>
                            </div>
                            <div>
                                <div class="text-bold">Bottling Date</div>
                                <p>After 7/16/2040</p>
                            </div>
                        </li>
                    </ul>
                </article>
                <article>
                    <h3 class="text-md title-font" data-aos="fade-up" data-aos-duration="1000">SPECIFICATION</h3>
                    <p class="text-sm text" data-aos="fade-up" data-aos-duration="1000">
                        META WHISKY owners can use Bigant to easily own, collect and trade META WHISKY anywhere in the
                        world, and in the future they can exchange META WHISKY for bottled whisky from World Heritage
                        barrels. After the exchange, NFT META WHISKY was burned and disappeared.
                    </p>
                </article>
                <article>
                    <div class="wineglass-bg">
                        <div class="text-2xl number-font year" data-aos="fade-up" data-aos-duration="1000">18</div>
                    </div>
                    <div style="transform: translateY(-160px);">
                        <p class="text-sm text" data-aos="fade-up" data-aos-duration="1000">
                            The World Heritage cask-aged whisky will be bottled in 2040 after 18 years of maturation.
                            This
                            means that anyone who buys and owns a bottle of Mata can exchange it for an original World
                            Heritage cask whisky after 18 years.
                        </p>
                    </div>
                </article>
            </div>
        </section>
    </main>
    <footer class="bg-footer d-flex justify-content-center align-items-center flex-direction-column">
        <article class="footer">
            <img src="img/META-WHISKY.png" data-aos="fade-up" data-aos-duration="1000">
            <a  onclick="buyNFT()" class="btn text text-bold" data-aos="fade-up" data-aos-duration="1000">
                <h3>Buy NFT now</h3>
            </a>
        </article>
        <small class="text-xs">
            Copyright © 2022 Bigant. All rights reserved.
        </small>
    </footer>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>

</html>
